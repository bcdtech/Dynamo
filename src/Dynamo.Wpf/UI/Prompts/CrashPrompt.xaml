<Window
    x:Class="Dynamo.Nodes.Prompts.CrashPrompt"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:p="clr-namespace:Dynamo.Wpf.Properties"
    xmlns:ui="clr-namespace:Dynamo.UI"
    Width="660"
    Height="270"
    AllowsTransparency="True"
    ResizeMode="NoResize"
    Style="{DynamicResource DynamoWindowStyle}"
    WindowStartupLocation="CenterOwner"
    WindowStyle="None">

    <Window.Background>
        <SolidColorBrush Opacity="0" />
    </Window.Background>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Dynamo.Wpf;component/UI/Themes/Modern/DynamoModern.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Window.CommandBindings>
        <CommandBinding Command="Close" Executed="OnCloseExecuted" />
    </Window.CommandBindings>
    <Window.InputBindings>
        <KeyBinding Key="Esc" Command="Close" />
    </Window.InputBindings>


    <Grid Background="Transparent" MouseDown="UIElement_OnMouseDown">
        <Border Name="MainBorder" Style="{StaticResource NoStyleWindowBorderStyle}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!--  Title Bar + Close Button  -->
                <DockPanel
                    Grid.Row="0"
                    Margin="18,20,18,35"
                    HorizontalAlignment="Stretch">
                    <Image
                        Name="MessageBoxImageIcon"
                        Width="24"
                        Height="24"
                        Margin="0,0,5,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        DockPanel.Dock="Left"
                        Source="/Dynamo.Wpf;component/UI/Images/dynamonotext.png" />

                    <Button
                        Name="CloseButton"
                        Margin="25,0,-5,0"
                        Click="CloseButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource CloseButtonStyle}" />

                    <TextBlock
                        Name="TitleTextBlock"
                        VerticalAlignment="Center"
                        DockPanel.Dock="Left"
                        FontFamily="{StaticResource ArtifaktElementRegular}"
                        FontSize="20px"
                        Foreground="#3C3C3C"
                        TextWrapping="Wrap" />
                </DockPanel>

                <Rectangle Grid.Row="0" Style="{StaticResource DividerRectangleStyle}" />

                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Image
                        Name="imgIcon"
                        Width="98"
                        Height="85"
                        Margin="30,20,30,20"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Source="/Dynamo.Wpf;component/UI/Images/task_dialog_crash.png" />

                    <StackPanel
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="0,30,30,30">
                        <TextBlock
                            Name="txtOverridingText"
                            HorizontalAlignment="Stretch"
                            FontSize="13"
                            Foreground="{StaticResource DarkThemeInputBoxBackgroundBrush}"
                            TextWrapping="Wrap" />
                    </StackPanel>

                    <StackPanel
                        Grid.Row="1"
                        Grid.ColumnSpan="2"
                        Margin="10,0,10,10"
                        HorizontalAlignment="Left"
                        Orientation="Horizontal">

                        <Button
                            Name="btnDetails"
                            Margin="-1,0,0,0"
                            Background="White"
                            BorderBrush="#BFBFBF"
                            Click="Details_Click"
                            Content="{x:Static p:Resources.CrashPromptDialogDetailButton}"
                            Foreground="#3C3C3C"
                            Style="{StaticResource CtaButtonStyle}"
                            Visibility="Collapsed" />

                        <Button
                            Name="btnCopy"
                            Margin="-1,0,0,0"
                            Background="White"
                            BorderBrush="#BFBFBF"
                            Click="Copy_Click"
                            Content="{x:Static p:Resources.CrashPromptDialogCopyButton}"
                            Foreground="#3C3C3C"
                            Style="{StaticResource CtaButtonStyle}"
                            Visibility="Collapsed" />

                    </StackPanel>

                    <StackPanel
                        Grid.Row="1"
                        Grid.ColumnSpan="2"
                        Margin="10,0,10,10"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        Orientation="Horizontal">

                        <Button
                            Name="btnOpenFolder"
                            Background="White"
                            BorderBrush="#BFBFBF"
                            Click="OpenFolder_Click"
                            Content="{x:Static p:Resources.CrashPromptDialogOpenFolderButton}"
                            Foreground="#3C3C3C"
                            Style="{StaticResource CtaButtonStyle}"
                            Visibility="Collapsed" />

                        <Button
                            Margin="10,0,0,0"
                            Background="White"
                            BorderBrush="#BFBFBF"
                            Click="PostOnGithub_Click"
                            Content="{x:Static p:Resources.CrashPromptDialogSubmitBugButton}"
                            Foreground="#3C3C3C"
                            Style="{StaticResource CtaButtonStyle}" />

                        <Button
                            Margin="10,0,0,0"
                            Background="#0696D7"
                            BorderBrush="#0696D7"
                            Click="Continue_Click"
                            Content="{x:Static p:Resources.ContinueButton}"
                            Foreground="White"
                            IsDefault="True"
                            Style="{StaticResource CtaButtonStyle}" />

                    </StackPanel>

                    <TextBox
                        Name="CrashDetailsContent"
                        Grid.Row="3"
                        Grid.ColumnSpan="2"
                        Margin="12,0,12,12"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        x:FieldModifier="public"
                        BorderThickness="0"
                        Foreground="{StaticResource DarkThemeInputBoxBackgroundBrush}"
                        HorizontalScrollBarVisibility="Auto"
                        IsReadOnly="True"
                        Style="{DynamicResource ResourceKey=SLightTextBox}"
                        VerticalScrollBarVisibility="Auto"
                        Visibility="Collapsed" />
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>
