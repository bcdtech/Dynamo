<Window
    x:Class="Dynamo.UI.Prompts.UsageReportingAgreementPrompt"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:p="clr-namespace:Dynamo.Wpf.Properties"
    xmlns:ui="clr-namespace:Dynamo.UI"
    xmlns:views="clr-namespace:Dynamo.UI.Views"
    Name="AgreementsForDataCollection"
    Title="{x:Static p:Resources.UsageReportPromptDialogTitle}"
    Height="500"
    MinWidth="530"
    MaxWidth="650"
    AllowsTransparency="True"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    Style="{DynamicResource DynamoWindowStyle}"
    WindowStartupLocation="CenterOwner"
    WindowStyle="None">
    <Window.Background>
        <SolidColorBrush Opacity="0" />
    </Window.Background>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Dynamo.Wpf;component/Themes/Modern/DynamoModern.xaml" />

            </ResourceDictionary.MergedDictionaries>
            <Style TargetType="CheckBox">
                <Setter Property="FontFamily" Value="宋体" />
                <Setter Property="Foreground" Value="{StaticResource DarkGreyBrush}" />
                <Setter Property="Margin" Value="0" />
                <Setter Property="FontSize" Value="14px" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type CheckBox}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="20px" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Rectangle
                                    x:Name="outerRectangle"
                                    Grid.Column="0"
                                    Width="14px"
                                    Height="14px"
                                    Stroke="{StaticResource PrimaryCharcoal300Brush}"
                                    StrokeThickness="1" />
                                <Rectangle
                                    x:Name="highlightRectangle"
                                    Grid.Column="0"
                                    Width="14px"
                                    Height="14px"
                                    Fill="Transparent"
                                    Stroke="{StaticResource PrimaryCharcoal300Brush}"
                                    StrokeThickness="1" />
                                <Path
                                    x:Name="tick"
                                    Grid.Column="0"
                                    Width="14px"
                                    Height="14px"
                                    Data="M3,7 l3,3 l5,-6"
                                    Opacity="0"
                                    Stretch="None"
                                    Stroke="White"
                                    StrokeThickness="2" />
                                <ContentPresenter
                                    x:Name="content"
                                    Grid.Column="1"
                                    Margin="4,0,0,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    TextBlock.Foreground="{StaticResource DarkGreyBrush}" />
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="highlightRectangle" Property="Fill" Value="LightGray" />
                                </Trigger>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="outerRectangle" Property="Fill" Value="{StaticResource PortUseLevelsCheckBoxColor}" />
                                    <Setter TargetName="tick" Property="Opacity" Value="1.0" />
                                </Trigger>
                                <Trigger Property="IsChecked" Value="False">
                                    <Setter TargetName="outerRectangle" Property="Fill" Value="Transparent" />
                                    <Setter TargetName="tick" Property="Opacity" Value="0.0" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="highlightRectangle" Property="Stroke" Value="LightGray" />
                                    <Setter TargetName="content" Property="TextBlock.Foreground" Value="LightGray" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </Window.Resources>

    <Grid Background="Transparent" MouseDown="UIElement_OnMouseDown">
        <Border Name="MainBorder" Style="{StaticResource NoStyleWindowBorderStyle}">

            <Grid Margin="15,0">

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="140" />
                    <RowDefinition Height="165" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="50" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>


                <!--  Title Bar + Close Button  -->
                <DockPanel
                    Grid.Row="0"
                    Grid.ColumnSpan="2"
                    Margin="0,15"
                    HorizontalAlignment="Stretch">

                    <Image
                        Name="MessageBoxImageIcon"
                        Width="24"
                        Height="24"
                        Margin="0,0,5,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        DockPanel.Dock="Left"
                        Source="/Dynamo.Wpf;component/UI/Images/dynamonotext.png" />

                    <Button
                        Name="CloseButton"
                        Margin="25,0,0,0"
                        Click="CloseButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource CloseButtonStyle}" />

                    <Button
                        Name="MaximizeButton"
                        Click="MaximizeButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource MaximizeButtonStyle}" />

                    <Button
                        Name="NormalizeButton"
                        Click="MaximizeButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource RestoreButtonStyle}"
                        Visibility="Collapsed" />

                    <Button
                        Name="MinimizeButton"
                        Margin="0,0,25,0"
                        Click="MinimizeButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource MinimizeButtonStyle}" />

                    <TextBlock
                        Name="TitleTextBlock"
                        VerticalAlignment="Center"
                        DockPanel.Dock="Left"
                        FontFamily="宋体"
                        FontSize="20px"
                        Foreground="{StaticResource DarkThemeInputBoxBackgroundBrush}"
                        TextWrapping="Wrap" />
                </DockPanel>

                <Rectangle
                    Grid.Row="0"
                    Grid.ColumnSpan="2"
                    Margin="-15,0"
                    Style="{StaticResource DividerRectangleStyle}" />

                <Border
                    Grid.Row="1"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="0,15,3,0"
                    Padding="0"
                    Background="#E6E6E6">
                    <ScrollViewer
                        Margin="0,0,-18,0"
                        Padding="0"
                        HorizontalScrollBarVisibility="Disabled">
                        <views:RichTextFile
                            x:Name="ADPAnalyticsConsent"
                            Margin="0,5"
                            Padding="5,5,15,10"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="{StaticResource DarkThemeInputBoxBackgroundBrush}"
                            IsDocumentEnabled="True"
                            IsEnabled="True"
                            IsReadOnly="True"
                            OpenLinksInBrowser="True" />

                    </ScrollViewer>
                </Border>
                <Border
                    Grid.Row="2"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="0,15,3,0"
                    Padding="0"
                    Background="#E6E6E6">
                    <ScrollViewer
                        Margin="0,0,-18,0"
                        Padding="0"
                        HorizontalScrollBarVisibility="Disabled">

                        <views:RichTextFile
                            x:Name="MLNodeAutocompleteConsent"
                            Margin="0,5"
                            Padding="5,5,15,10"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="{StaticResource DarkThemeInputBoxBackgroundBrush}"
                            IsDocumentEnabled="True"
                            IsEnabled="True"
                            IsReadOnly="True"
                            OpenLinksInBrowser="True" />

                    </ScrollViewer>
                </Border>

                <StackPanel
                    Grid.Row="3"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Orientation="Vertical">

                    <Rectangle Margin="-15,15,-15,0" Style="{StaticResource DividerRectangleStyle}" />

                </StackPanel>

                <StackPanel
                    Grid.Row="4"
                    Margin="0,20,0,10"
                    Orientation="Horizontal">
                    <CheckBox x:Name="AgreeToMLAutocompleteTOUCheckbox" />
                    <TextBlock
                        x:Name="AgreeToMLAutocompleteTOUTextbox"
                        Margin="0,1,0,0"
                        Text="{x:Static p:Resources.AgreeToMLAutocompleteTOUText}" />
                </StackPanel>
                <!--  Configure ADP Consent  -->
                <Button
                    x:Name="configure_adp_button"
                    Grid.Row="5"
                    Grid.Column="0"
                    Width="auto"
                    Margin="-4,10,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Bottom"
                    Background="White"
                    BorderBrush="#BFBFBF"
                    Click="configure_adp_button_Click"
                    Content="{x:Static p:Resources.ConfigureADPButtonText}"
                    Foreground="#3C3C3C"
                    Style="{StaticResource CtaButtonStyle}" />

                <!--  Continue Button  -->
                <Button
                    x:Name="okButton"
                    Grid.Row="5"
                    Grid.Column="1"
                    Width="auto"
                    MinWidth="100"
                    Margin="2,0,-2,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Background="#0696D7"
                    BorderBrush="#0696D7"
                    Click="OnContinueClick"
                    Content="{x:Static p:Resources.ContinueButton}"
                    Foreground="White"
                    IsDefault="True"
                    Style="{StaticResource CtaButtonStyle}" />
            </Grid>
        </Border>
    </Grid>
</Window>
