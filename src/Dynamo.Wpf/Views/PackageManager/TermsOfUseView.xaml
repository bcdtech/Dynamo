<Window
    x:Class="Dynamo.PackageManager.UI.TermsOfUseView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:p="clr-namespace:Dynamo.Wpf.Properties"
    xmlns:ui="clr-namespace:Dynamo.UI"
    xmlns:views="clr-namespace:Dynamo.UI.Views"
    x:Name="TermsOfUseWindow"
    Title="{x:Static p:Resources.TermsOfUseViewTitle}"
    Width="550"
    Height="450"
    MinWidth="550"
    MinHeight="350"
    MaxWidth="550"
    AllowsTransparency="True"
    ResizeMode="CanResizeWithGrip"
    Style="{DynamicResource DynamoWindowStyle}"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">

    <Window.Background>
        <SolidColorBrush Opacity="0" />
    </Window.Background>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/DynamoCoreWpf;component/UI/Themes/Modern/DynamoModern.xaml" />

            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid Background="Transparent" MouseDown="UIElement_OnMouseDown">
        <Border Name="MainBorder" Style="{StaticResource NoStyleWindowBorderStyle}">

            <Grid Margin="15,0">

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>


                <!--  Title Bar + Close Button  -->
                <DockPanel
                    Grid.Row="0"
                    Margin="0,15"
                    HorizontalAlignment="Stretch">
                    <Image
                        Name="MessageBoxImageIcon"
                        Width="24"
                        Height="24"
                        Margin="0,0,5,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        DockPanel.Dock="Left"
                        Source="/DynamoCoreWpf;component/UI/Images/dynamonotext.png" />

                    <Button
                        Name="CloseButton"
                        Margin="25,0,5,0"
                        Click="CloseButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource CloseButtonStyle}" />

                    <Button
                        Name="MaximizeButton"
                        Click="MaximizeButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource MaximizeButtonStyle}" />

                    <Button
                        Name="NormalizeButton"
                        Click="MaximizeButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource RestoreButtonStyle}"
                        Visibility="Collapsed" />

                    <Button
                        Name="MinimizeButton"
                        Margin="0,0,25,0"
                        Click="MinimizeButton_OnClick"
                        DockPanel.Dock="Right"
                        Style="{StaticResource MinimizeButtonStyle}" />

                    <TextBlock
                        Name="TitleTextBlock"
                        VerticalAlignment="Center"
                        DockPanel.Dock="Left"
                        FontFamily="{StaticResource ArtifaktElementRegular}"
                        FontSize="20px"
                        Foreground="#3C3C3C"
                        Text="{x:Static p:Resources.TermsOfUseViewTitle}"
                        TextWrapping="Wrap" />
                </DockPanel>

                <Rectangle
                    Grid.Row="0"
                    Margin="-15,0"
                    Style="{StaticResource DividerRectangleStyle}" />

                <Border
                    Grid.Row="1"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="0,15,3,20"
                    Padding="0"
                    Background="#E6E6E6">

                    <ScrollViewer Margin="0,0,-18,0">
                        <views:RichTextFile
                            x:Name="TermsOfUseContent"
                            Margin="0,5"
                            Padding="5,5,15,10"
                            Background="Transparent"
                            BorderThickness="0"
                            FontSize="10"
                            IsDocumentEnabled="True"
                            IsEnabled="True"
                            IsReadOnly="True"
                            OpenLinksInBrowser="True" />
                    </ScrollViewer>
                </Border>

                <Rectangle
                    Grid.Row="1"
                    Margin="-15,0"
                    Style="{StaticResource DividerRectangleStyle}" />

                <StackPanel
                    Name="ButtonsStackPanel"
                    Grid.Row="2"
                    Margin="0,10,0,12"
                    FlowDirection="RightToLeft"
                    Orientation="Horizontal">
                    <Button
                        Name="AcceptTermsOfUseButton"
                        MinWidth="90"
                        Margin="-2,0,5,0"
                        Background="#0696D7"
                        BorderBrush="#0696D7"
                        Click="AcceptTermsOfUseButton_OnClick"
                        Content="{x:Static p:Resources.TermsOfUseAcceptButton}"
                        Foreground="White"
                        Style="{StaticResource CtaButtonStyle}" />
                    <Button
                        Name="DeclineTermsOfUseButton"
                        MinWidth="90"
                        Margin="0"
                        Background="White"
                        BorderBrush="#BFBFBF"
                        Click="DeclineTermsOfUseButton_OnClick"
                        Content="{x:Static p:Resources.TermsOfUseDeclineButton}"
                        Foreground="#3C3C3C"
                        Style="{StaticResource CtaButtonStyle}" />
                </StackPanel>

            </Grid>
        </Border>
    </Grid>

</Window>
